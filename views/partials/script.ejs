<!-- Google jQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
$(document).ready(function() {
    $("#personalInfoButton").click(function(event) {
        event.preventDefault();
        $("#personalInfoButton").css("background-color", "red");
        
        var data = {
            event: "Button: Kişisel Bilgi Formu düğmesine basıldı."
        };
        $.ajax({
            type: "POST",
            url: "/log",
            data: data,
            success: function(response) {
                console.log("Kişisel Bilgi Formu");
            }
        });
    });
    
    $("#startExamModalButton").click(function(event) {
        event.preventDefault();
        $("#startExamModalButton").css("background-color", "red");
        
        var data = {
            event: "Button (before the Modal): Sınava Başla düğmesine basıldı."
        };
        $.ajax({
            type: "POST",
            url: "/log",
            data: data,
            success: function(response) {
                    console.log("Kişisel Bilgi Formu");
            }
        });
    });
    
    $("#startExamButton").click(function(event) {
        event.preventDefault();
        $("#startExamModalButton").css("background-color", "red");
        
        $.post("/user/save-acc-settings", $("form#accessibilitySettingsForm").serialize());
        //$("form#accessibilitySettingsForm").submit();
        
        var data = {
            event: "Button (on the Modal): Sınava Başla düğmesine basıldı."
        };
        $.ajax({
            type: "POST",
            url: "/log",
            data: data,
            success: function(response) {
                    console.log("Kişisel Bilgi Formu");
            }
        });
        
        window.location.href = "/exam";
    });
    
});

$(document).ready(function() {
    $("#greetingMsg").delay(5000).slideUp(400);
    $("#msgPersonalInfo").delay(5000).slideUp(400);
});

$(document).ready(function() {
    /* Kişisel Bilgi Formu */
    /* ana sayfadaki yönlendirme düğmesi */
    $("#personalInfoButton").click((event) => {
        event.preventDefault();
        window.location.href = "/user/personal-info";
    });
    
    
    /* age */
    $("#alertAgeDiv").hide();
    
    /* gender */
    $("#alertGenderDiv").hide();
    
    /* visual impairment info */
    $("#alertVisualImpairmentDiv").hide();
    
    /* student info */
    $("#alertStudentInfoDiv").hide();
    /*$("#jobStudentInfo").hide();*/
    $("#inputCheckStudent").each(function() {
        if($(this).not(':checked')) {
            $("#jobFormGroup").find(":input[type='text']").attr('required', true);
        }
        
        $("#inputCheckStudent").change(function() {
            if($(this).is(':checked')) {
                $("#studentInfo").find(":input[type='text']").attr('required', true);
                $("#studentInfo").find(":input[type='text']").removeAttr('aria-hidden');
                $("#studentInfo").find(":input[type='text']").removeAttr('readonly');
                $("#studentInfo").removeAttr("style");
                
                /* job input */
                $("h4#jobHeading").css("display", "none");
                $("input#inputTextJob").css("display", "none");
                $("hr#hrJob").css("display", "none");
                $("#jobFormGroup").find(":input[type='text']").attr('required', false);
            } else {
                $("#studentInfo").find(":input[type='text']").removeAttr('required');
                $("#studentInfo").find(":input[type='text']").attr('aria-hidden', 'true');
                $("#studentInfo").find(":input[type='text']").attr('readonly');
                $("#studentInfo").css("opacity","0.5");
                
                /* job input */
                $("h4#jobHeading").css("display", "block");
                $("input#inputTextJob").css("display", "block");
                /*$("input#inputTextJob").attr("required");
                $("#jobFormGroup").find(":input[type='text']").attr("required");*/
            }
        });
    });
    
    
    /* job */
    $("#alertJobDiv").hide();
    
    /* .toggle() */
    /*$("#inputCheckJob1").click(function() {
        $("#jobStudentInfo").toggle(this.checked);
    });
    $("#inputCheckJob2").click(function() {
        $("#jobOtherInfo").toggle(this.checked);
    });*/
    
    /* personal techs */
    $("#alertPersonalTechsDiv").hide();
    /*$("#personalTechsOtherInfo").hide();
    $("#personalTechCheck6").change(function() {
        if($(this).is(':checked')) {
            $("#personalTechsOtherInfo").show(300).find(':input').attr('required', true);
        } else {
            $("#personalTechsOtherInfo").hide(300).find(':input').removeAttr('required');
        }
    });*/
    
    /* assistive techs */
    $("#alertAssistiveTechsDiv").hide();
    
    /* operation system */
    $("#alertOpSystemDiv").hide();
    /*$("#opSystemOtherInfo").hide();
    $("#opSystemCheck3").change(function() {
        if($(this).is(':checked')) {
            $("#opSystemOtherInfo").show(300).find(':input').attr('required', true);
        } else {
            $("#opSystemOtherInfo").hide(300).find(':input').removeAttr('required');
        }
    });*/
    
    /* browser */
    $("#alertBrowserDiv").hide();
    
    /* alerts */
    $("#personalInfoSaveButton").click(function(e) {
        
        /* age */
        if($("input[name='age']").val() === "") {
            
            e.preventDefault();
            $("#alertAgeDiv").show(300);
            $("#alertAgeDiv").attr("tabindex","0");
            document.getElementById("alertAgeDiv").focus();
            $(this).css("background-color", "red");
            $("#alertAgeDiv").delay(5000).slideUp(300);
            
            /* gender */
        } else if(!$("#inputRadioGender1").is(":checked") && !$("#inputRadioGender2").is(":checked")) {
          
            e.preventDefault();
            $("#alertGenderDiv").show(300);
            $("#alertGenderDiv").attr("tabindex","0");
            document.getElementById("alertGenderDiv").focus();
            $(this).css("background-color", "red");
            $("#alertGenderDiv").delay(5000).slideUp(300);
            
            /* job */
        } else if(($("input[name='studentVar1']").val() === "") && ($("input[name='studentVar2']").val() === "") && ($("input[name='job']").val() === "")) {
            
            e.preventDefault();
            $("#alertJobDiv").show(300);
            $("#alertJobDiv").attr("tabindex","0");
            document.getElementById("alertJobDiv").focus();
            $(this).css("background-color", "red");
            $("#alertJobDiv").delay(5000).slideUp(300);
            
            /* personal techs */
        } else if(!$("#personalTechCheck1").is(":checked") && !$("#personalTechCheck2").is(":checked") && !$("#personalTechCheck3").is(":checked") && !$("#personalTechCheck4").is(":checked") && !$("#personalTechCheck5").is(":checked")) {
            
            e.preventDefault();
            $("#alertPersonalTechsDiv").show(300);
            $("#alertPersonalTechsDiv").attr("tabindex","0");
            document.getElementById("alertPersonalTechsDiv").focus();
            $(this).css("background-color", "red");
            $("#alertPersonalTechsDiv").delay(5000).slideUp(300);
            
            /* assistive techs */
        } else if($("textarea[name='assistiveTechs']").val() === "") {
            
            e.preventDefault();
            $("#alertAssistiveTechsDiv").show(300);
            $("#alertAssistiveTechsDiv").attr("tabindex","0");
            document.getElementById("alertAssistiveTechsDiv").focus();
            $(this).css("background-color", "red");
            $("#alertAssistiveTechsDiv").delay(5000).slideUp(300);
            
            /* operating system */
        } else if(!$("#opSystemCheck1").is(":checked") && !$("#opSystemCheck2").is(":checked")) {
            
            e.preventDefault();
            $("#alertOpSystemDiv").show(300);
            $("#alertOpSystemDiv").attr("tabindex","0");
            document.getElementById("alertOpSystemDiv").focus();
            $(this).css("background-color", "green");
            $("#alertOpSystemDiv").delay(5000).slideUp(300);
        }
        
    });
    

});

$(function() {
    
});
</script>


